2025-12-02 13:51:59 | ERROR | errors | [ERROR] BTCUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:51:59 | ERROR | errors | [ERROR] USDJPY: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:51:59 | ERROR | errors | [ERROR] XAUUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:52:19 | ERROR | errors | [ERROR] BTCUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:52:19 | ERROR | errors | [ERROR] USDJPY: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:52:19 | ERROR | errors | [ERROR] XAUUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:55:22 | ERROR | errors | [ERROR] BTCUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:55:22 | ERROR | errors | [ERROR] USDJPY: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 13:55:22 | ERROR | errors | [ERROR] XAUUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 14:00:22 | ERROR | errors | [ERROR] BTCUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 14:00:23 | ERROR | errors | [ERROR] USDJPY: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 14:00:23 | ERROR | errors | [ERROR] XAUUSD: Error processing candle: 'RiskManager' object has no attribute 'risk_per_trade'
2025-12-02 15:00:01 | ERROR | errors | Fatal error while running mode=live
Traceback (most recent call last):
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 827, in main
    asyncio.run(
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 567, in run_live_trading
    trade = runner.engine.update_position(candle)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\core\execution.py", line 438, in update_position
    quantity=partial_qty,
             ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'partial_qty' where it is not associated with a value
2025-12-02 15:05:52 | ERROR | errors | Fatal error while running mode=live
Traceback (most recent call last):
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 846, in main
    asyncio.run(
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 580, in run_live_trading
    trade = runner.engine.update_position(latest_candle)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\core\execution.py", line 438, in update_position
    quantity=partial_qty,
             ^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'partial_qty' where it is not associated with a value
2025-12-02 15:15:00 | ERROR | errors | Fatal error while running mode=live
Traceback (most recent call last):
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 850, in main
    asyncio.run(
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 550, in run_live_trading
    signal = runner.strategy.on_candle(latest_candle)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\strategies\ict_smc\strategy.py", line 211, in on_candle
    market_ctx = self._build_market_context(session_name, candle)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\strategies\ict_smc\strategy.py", line 347, in _build_market_context
    swings = recent_structure(swing_points(candles, depth=3), max_age_minutes=300)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\core\utils.py", line 224, in swing_points
    if pivot.high > max(highs):
                    ^^^^^^^^^^
ValueError: max() iterable argument is empty
2025-12-02 16:23:41 | ERROR | errors | Fatal error while running mode=live
Traceback (most recent call last):
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 850, in main
    asyncio.run(
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 550, in run_live_trading
    signal = runner.strategy.on_candle(latest_candle)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\strategies\ict_smc\strategy.py", line 211, in on_candle
    market_ctx = self._build_market_context(session_name, candle)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\strategies\ict_smc\strategy.py", line 347, in _build_market_context
    swings = recent_structure(swing_points(candles, depth=3), max_age_minutes=300)
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\core\utils.py", line 224, in swing_points
    if pivot.high > max(highs):
                    ^^^^^^^^^^
ValueError: max() iterable argument is empty
2025-12-02 18:14:36 | ERROR | errors | Fatal error while running mode=live
Traceback (most recent call last):
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 911, in main
    asyncio.run(
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ASUS\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py", line 687, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "d:\RAVBOTGITHUB\ULTIMA2.0\TradingBot\bot\main.py", line 458, in run_live_trading
    now_utc = datetime.now(pytz.UTC)
              ^^^^^^^^
UnboundLocalError: cannot access local variable 'datetime' where it is not associated with a value
